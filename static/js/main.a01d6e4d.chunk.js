(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{47:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},61:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){"use strict";c.r(t);var a,s=c(1),n=c(22),i=c.n(n),r=c(6),l=c(42),o=c(4),d=c(3);!function(e){e.SCREEN_LOGIN="/login",e.SCREEN_CHAT="/chat/:id",e.SCREEN_SIGN="/sign_in",e.SCREEN_EMPTY_CHAT="/chat"}(a||(a={}));c(47);var j=c(2),u=c.n(j),b=c(9),h=(c(49),c.p+"static/media/error-icon.dd5c433f.svg"),m=(c(50),c(0)),p=function(){return Object(m.jsx)("img",{className:"error-icon",src:h,alt:"error icon"})},O=c.p+"static/media/logo.8144ace5.svg",f=(c(52),function(e){var t=e.type;return Object(m.jsx)("img",{className:t,src:O,alt:"logo"})}),x=(c(53),c(5)),g=c.n(x),v=function(e){var t=e.type,c=e.children,a=e.direction,s=Object(d.g)(),n=g()({"submit-button":"submit"===t,button:"button"===t});return Object(m.jsx)("button",{className:n,type:t,onClick:function(){"login"===a&&s.push("/login"),"registration"===a&&s.push("./sign_in")},children:c})},N=(c(61),function(e){var t=e.children;return Object(m.jsx)("h1",{className:"header1 typography",children:t})}),_=function(e){var t=e.children;return Object(m.jsx)("h2",{className:"header2 typography",children:t})},w=function(e){var t=e.children;return Object(m.jsx)("h3",{className:"header3 typography",children:t})},y=function(e){var t=e.children;return Object(m.jsx)("h4",{className:"header4 typography",children:t})},S=function(e){var t=e.children;return Object(m.jsx)("p",{className:"text1 typography",children:t})},C=function(e){var t=e.children;return Object(m.jsx)("p",{className:"text2 typography",children:t})},k=c(23),E=c.p+"static/media/refresh-captcha-icon.4a978d34.svg",I=c(13),A=c.n(I),q={user:{username:""},logIn:function(){},isAuth:function(){return!1}},z=Object(s.createContext)(q),R=function(){return Object(s.useContext)(z)},T=function(){var e=Object(s.useState)(Date.now),t=Object(o.a)(e,2),c=t[0],a=t[1],n=R(),i=Object(k.a)(),l=i.register,j=i.formState.errors,h=i.handleSubmit,O=g()("input",{invalid:j.login}),x=g()("input",{invalid:j.password}),w=g()("captcha-input",{invalid:j.captcha}),y=Object(d.g)(),S=function(){var e=Object(b.a)(u.a.mark((function e(t){var c,a,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("login",t.login),c.append("password",t.password),c.append("captcha",t.captcha),e.prev=4,e.next=7,A.a.post("http://109.194.37.212:93/api/auth/login",c);case 7:400!==(a=e.sent).status&&(s=a.data,n.logIn(s),n.isAuth()&&y.push("./chat")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),A.a.isAxiosError(e.t0)&&alert(null===(i=e.t0.response)||void 0===i?void 0:i.data);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),C="http://109.194.37.212:93/api/auth/captcha?t=".concat(c);return Object(m.jsxs)("div",{className:"login-form-container",children:[Object(m.jsx)(f,{type:"login-logo"}),Object(m.jsxs)(N,{children:["Welcome to ",Object(m.jsx)("span",{className:"header-blue",children:"Chatty"}),Object(m.jsx)("span",{className:"header-grey",children:"!"})]}),Object(m.jsx)(_,{children:"Please, authorize yourself"}),Object(m.jsxs)("form",{action:"post",onSubmit:h(S),children:[Object(m.jsxs)("div",{className:"form-field",children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{className:"form-field__label",children:"User name"}),Object(m.jsxs)("div",{className:"form-field__input",children:[Object(m.jsx)("input",Object(r.a)(Object(r.a)({},l("login",{required:!0})),{},{className:O,placeholder:"Input user name"})),j.login?Object(m.jsx)(p,{}):null]})]}),Object(m.jsx)("span",{className:"form-field__error",children:j.login&&"Login is required"})]}),Object(m.jsxs)("div",{className:"form-field",children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{className:"form-field__label",children:"Password"}),Object(m.jsxs)("div",{className:"form-field__input",children:[Object(m.jsx)("input",Object(r.a)(Object(r.a)({},l("password",{required:!0})),{},{className:x,placeholder:"Input password",type:"password"})),j.password?Object(m.jsx)(p,{}):null]})]}),Object(m.jsx)("span",{className:"form-field__error",children:j.password&&"Password is required"})]}),Object(m.jsx)("div",{className:"form-field",children:Object(m.jsxs)("div",{className:"form-field__captcha",children:[Object(m.jsxs)("div",{className:"input-container",children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{className:"form-field__label",children:"Security code"}),Object(m.jsxs)("div",{className:"form-field__input",children:[Object(m.jsx)("input",Object(r.a)(Object(r.a)({},l("captcha",{required:!0})),{},{className:w,placeholder:"Security code"})),j.captcha?Object(m.jsx)(p,{}):null]})]}),Object(m.jsx)("span",{className:"form-field__error",children:j.captcha&&"Captcha is wrong"})]}),Object(m.jsx)("div",{className:"captcha-container",children:Object(m.jsx)("img",{src:C,alt:"captcha"})}),Object(m.jsx)("img",{className:"refresh-icon",src:E,alt:"refresh captcha icon",onClick:function(){a(Date.now())}})]})}),Object(m.jsx)(v,{type:"submit",children:"Log in"}),Object(m.jsx)(v,{type:"button",direction:"registration",children:"Registration"})]})]})},Y=(c(80),function(e){var t=e.left;return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"authorization-page-template",children:[Object(m.jsx)("div",{className:"authorization-page-template__left",children:t}),Object(m.jsx)("div",{className:"authorization-page-template__right"})]})})}),L=function(){return Object(m.jsx)(Y,{left:Object(m.jsx)(T,{})})},P=(c(81),function(e){var t=e.header,c=e.contactsBar,a=e.chatBody,s=e.isActive,n=g()("header-wrapper",{chosen:s}),i=g()("contacts-wrapper",{chosen:s}),r=g()("main-wrapper",{chosen:s});return Object(m.jsxs)("div",{className:"chat-template",children:[Object(m.jsx)("div",{className:n,children:Object(m.jsx)("div",{className:"header",children:t})}),Object(m.jsxs)("div",{className:"content-wrapper",children:[Object(m.jsx)("div",{className:i,children:Object(m.jsx)("div",{className:"contacts-bar",children:c})}),Object(m.jsx)("div",{className:r,children:Object(m.jsx)("div",{className:"main",children:a})})]})]})}),B=(c(82),c(83),c.p+"static/media/male-user-icon.884cf237.svg"),M=c.p+"static/media/female-user-icon.9fe512a0.svg",D=(c(84),function(e){switch(e.gender){case"male":return Object(m.jsx)("img",{src:B,className:"user-avatar",alt:"male"});case"female":return Object(m.jsx)("img",{src:M,className:"user-avatar",alt:"female"});default:return null}}),F=c.p+"static/media/back-arrow-icon.139af588.svg",J=function(e){var t=e.lastSeen,c=e.contactName,a=e.onClick,s=e.gender;return Object(m.jsxs)("div",{className:"contact-header",children:[Object(m.jsx)("img",{className:"back-arrow",src:F,alt:"back arrow icon",onClick:a}),Object(m.jsx)(D,{gender:s}),Object(m.jsxs)("div",{className:"info-wrapper",children:[Object(m.jsx)(w,{children:c}),Object(m.jsxs)(S,{children:["Last seen ",t," minutes ago"]})]})]})},G=(c(85),c.p+"static/media/attached-file-icon-1.cf687aac.svg"),H=c.p+"static/media/attached-file-icon-2.e8f700d0.svg",U=function(e){if(e)return e>1048576?"".concat((e/1048576).toFixed(1)," MB"):"".concat((e/1024).toFixed(1)," KB")},W=function(e){var t=e.attached,c=e.text,a=e.source,s=e.title,n=e.size,i=e.link,r=g()(a,"message");return Object(m.jsxs)("div",{className:r,children:[t?Object(m.jsxs)("div",{className:"file-container",children:[Object(m.jsxs)("div",{className:"icon-container",children:[Object(m.jsx)("img",{className:"attach-icon-1",src:G,alt:"attached file icon"}),Object(m.jsx)("img",{className:"attach-icon-2",src:H,alt:"attached file icon"})]}),Object(m.jsxs)("div",{className:"file-info-container",children:[Object(m.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:Object(m.jsx)(S,{children:s})}),Object(m.jsx)(C,{children:U(n)})]})]}):null,c?Object(m.jsx)(S,{children:c}):null]})},K=(c(86),c.p+"static/media/send-icon.e8e9d77f.svg"),Q=c.p+"static/media/attach-icon.ff8ff9bf.svg",V=c(8),X=c(40),Z=c(41),$=c(7),ee=c(16),te=["10","9","8","7","6","5","4","3","2"],ce=new(function(){function e(){Object(X.a)(this,e),this.chats=[],Object($.d)(this)}return Object(Z.a)(e,[{key:"addChats",value:function(e){var t=Object(V.a)(e);t.forEach((function(e){e.id=Object(ee.uniqueId)(),e.lastSeen=Object(ee.sample)(te),e.messages=[]})),this.chats=Object(V.a)(t)}},{key:"addMessage",value:function(e,t){this.chats.forEach((function(c){var a;c.id===e&&(null===(a=c.messages)||void 0===a||a.push(t))}))}}]),e}()),ae=c(15),se=["video/mp4","video/ogg","video/webm","audio/mpeg","audio/ogg","image/jpeg","image/jpg","image/gif, image/png","image/svg+xml"],ne=Object(ae.a)((function(e){var t=e.id,c=e.socket,a=e.name,n=Object(s.useState)(""),i=Object(o.a)(n,2),r=i[0],l=i[1],d=Object(s.useState)("no-upload"),j=Object(o.a)(d,2),h=j[0],p=j[1],O=Object(s.useState)(void 0),f=Object(o.a)(O,2),x=f[0],g=f[1],v=Object(s.useState)(""),N=Object(o.a)(v,2),_=N[0],w=N[1],y=function(){var e=Object(b.a)(u.a.mark((function e(t){var c,a,s,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.target.files){e.next=17;break}if(c=t.target.files[0],(a=new FormData).append("0",c),r=c.type,l=c.size,!(se.includes(r)?!(l/1048576>=2)||(alert("This file exceeds size limit! Try file that weighs less than 2 mb."),!1):(alert("This file extension is not supported!\nSupported extensions are: mp4, ogg, webm, mpeg, jpeg, jpg, gif, png, svg+xml."),!1))){e.next=17;break}return e.prev=6,p("uploading"),e.next=10,A.a.post("http://109.194.37.212:93/api/upload",a);case 10:400!==(s=e.sent).status&&(n=s.data,g(c),w(n),p("uploaded")),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),A.a.isAxiosError(e.t0)&&(p("no-upload"),alert(null===(i=e.t0.response)||void 0===i?void 0:i.data));case 17:case"end":return e.stop()}var r,l}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault();var s=void 0!==x;if("uploading"===h&&alert("File is uploading!"),s){var n={attached:s,id:Object(ee.uniqueId)(),source:"outcoming",text:r,size:null===x||void 0===x?void 0:x.size,title:null===x||void 0===x?void 0:x.name,link:"http://109.194.37.212:93".concat(_)};if(void 0===n.size)return;c.send("'".concat(JSON.stringify({type:"message",data:{message:r,fileSize:null===x||void 0===x?void 0:x.size,fileName:null===x||void 0===x?void 0:x.name,fileLink:"http://109.194.37.212:93".concat(_),recieverId:t,recieverName:a}}),"'")),ce.addMessage(t,n),g(void 0),l(""),p("no-upload")}else{var i={attached:s,id:Object(ee.uniqueId)(),source:"outcoming",text:r};if(""===i.text)return;c.send("'".concat(JSON.stringify({type:"message",data:{message:r,recieverId:t,recieverName:a}}),"'")),ce.addMessage(t,i),l("")}},children:Object(m.jsxs)("div",{className:"send-menu",children:[Object(m.jsxs)("label",{className:"send-menu__label",children:[Object(m.jsx)("img",{className:"send-menu__attach-icon",src:Q,alt:"attach icon"}),Object(m.jsx)("input",{className:"send-menu__file-input",type:"file",onChange:y})]}),Object(m.jsx)("input",{ref:function(e){e&&e.focus()},value:r,onChange:function(e){l(e.target.value)},className:"send-menu__text-input",type:"text",placeholder:"Write something..."}),Object(m.jsx)("button",{type:"submit",className:"send-menu__submit-button"}),Object(m.jsx)("img",{className:"send-menu__send-icon",src:K,alt:"send icon"})]})})})),ie=Object(ae.a)((function(e){var t=e.socket,c=e.currentChatId,a=e.onClick;if(void 0===c)return Object(m.jsx)("div",{className:"user-tip",children:Object(m.jsx)(y,{children:"Select a chat to start messaging"})});var s=ce.chats.filter((function(e){return e.id===c}))[0],n=s.messages.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(W,{link:e.link,attached:e.attached,id:e.id,source:e.source,text:e.text,size:e.size,title:e.title})},e.id)}));return Object(m.jsxs)("div",{className:"chat-body",children:[Object(m.jsx)("div",{className:"chat-body__header",children:Object(m.jsx)(J,{contactName:s.name,onClick:a,gender:s.gender,lastSeen:s.lastSeen})}),Object(m.jsx)("div",{className:"chat-body__messages",children:Object(m.jsx)("ul",{children:n})}),Object(m.jsx)("div",{className:"chat-body__send-menu",children:Object(m.jsx)(ne,{socket:t,id:s.id,name:s.name})})]})})),re=(c(88),c.p+"static/media/profile-icon.73c6e802.svg"),le=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{type:"chat-logo"}),Object(m.jsx)("img",{className:"profile-icon",src:re,alt:"profile icon"})]})},oe=(c(89),c(90),function(e){var t="";if(void 0!==e)return e.length>25?t+="".concat(e.slice(0,23),"..."):e}),de=function(e){var t=e.title,c=e.id,a=e.gender,s=e.contactName,n=e.lastMessage,i=e.isActive,r=e.source,l=e.onClick,o=g()("contact-item",{active:i});return Object(m.jsxs)("div",{className:o,onClick:function(){c&&l(c)},children:[Object(m.jsx)(D,{gender:a}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)(y,{children:s}),"outcoming"===r?Object(m.jsxs)(C,{children:[Object(m.jsx)("span",{children:"You: "}),oe(n||t)]}):Object(m.jsx)(C,{children:oe(n||t)})]})]})},je=Object(ae.a)((function(e){var t=e.onClick,c=e.currentChatId,a=ce.chats.map((function(e){var a,s,n;return Object(m.jsx)("li",{children:Object(m.jsx)(de,{title:null===(a=e.messages[e.messages.length-1])||void 0===a?void 0:a.title,isActive:e.id===c,contactName:e.name,gender:e.gender,id:e.id,lastMessage:null===(s=e.messages[e.messages.length-1])||void 0===s?void 0:s.text,source:null===(n=e.messages[e.messages.length-1])||void 0===n?void 0:n.source,onClick:t})},e.id)}));return Object(m.jsx)("ul",{children:a})})),ue=(c(91),c.p+"static/media/alone-user.f7a533b7.svg"),be=function(e){var t=e.description;return Object(m.jsxs)("div",{className:"no-user-message",children:[Object(m.jsx)("img",{className:"alone-user",alt:"alone user icon",src:ue}),Object(m.jsx)(y,{children:t})]})},he=(c(92),c.p+"static/media/loading-icon.44373d9b.svg"),me=function(){return Object(m.jsx)("div",{className:"loading-icon-container",children:Object(m.jsx)("img",{className:"loading-icon",src:he,alt:"loading icong"})})},pe=new WebSocket("ws://109.194.37.212:2346/?type=test&ws_id=".concat(localStorage.getItem("user"))),Oe=Object(ae.a)((function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(d.g)(),i=Object(d.h)().id;return Object(s.useEffect)((function(){pe.onopen=function(){return a(!0)},pe.onclose=function(){return a(!1)},pe.onerror=function(e){return console.log(e)}}),[]),Object(s.useEffect)((function(){1===pe.readyState&&(a(!0),pe.send(JSON.stringify({type:"users_list"})),pe.onmessage=function(e){var t=JSON.parse(e.data);ce.addChats(t.data)})}),[c]),c?c&&0===ce.chats.length?Object(m.jsx)(P,{header:Object(m.jsx)(le,{}),contactsBar:Object(m.jsx)(be,{description:"There is no other users yet"}),isActive:i}):Object(m.jsx)(P,{contactsBar:Object(m.jsx)(je,{onClick:function(e){n.push("/chat/".concat(e))},currentChatId:i}),header:Object(m.jsx)(le,{}),chatBody:Object(m.jsx)(ie,{socket:pe,currentChatId:i,onClick:function(){n.push("/chat")}}),isActive:i}):Object(m.jsx)(P,{header:Object(m.jsx)(le,{}),chatBody:Object(m.jsx)(me,{}),contactsBar:Object(m.jsx)(me,{}),isActive:i})})),fe=(c(93),c(94),c.p+"static/media/dropdown-arrow.6d3f84ad.svg"),xe=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)([]),i=Object(o.a)(n,2),l=i[0],j=i[1],h=Object(s.useState)(""),O=Object(o.a)(h,2),x=O[0],w=O[1],y=Object(s.useState)(""),S=Object(o.a)(y,2),C=S[0],I=S[1],q=Object(s.useState)(Date.now),z=Object(o.a)(q,2),R=z[0],T=z[1];Object(s.useEffect)((function(){A.a.get("http://109.194.37.212:93/api/auth").then((function(e){return j(e.data.genders)}))}),[]);var Y,L=Object(k.a)(),P=L.register,B=L.formState.errors,M=L.handleSubmit,D=g()("input",{invalid:B.login}),F=g()("input",{invalid:B.password}),J=g()("input",{invalid:B.password_confirm}),G=g()("input",{invalid:B.name}),H=g()("placeholder-container",{invalid:"Your gender"===C}),U=g()("option first-option",{dropped:c}),W=g()("option second-option",{dropped:c}),K=g()("captcha-input",{invalid:B.captcha}),Q=function(e){var t=e.target.getAttribute("data-value");if(I(t),"male"===t||"female"===t){var s=l.filter((function(e){return e.gender===t}));w(s[0].id)}a(!c)},V=Object(d.g)(),X=function(){var e=Object(b.a)(u.a.mark((function e(t){var c,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("login",t.login),c.append("password",t.password),c.append("password_confirm",t.password_confirm),c.append("name",t.name),c.append("gender_id",x),c.append("captcha",t.captcha),e.prev=7,e.next=10,A()({method:"post",url:"http://109.194.37.212:93/api/auth/register",data:c});case 10:a=e.sent,!0===a.data&&V.push("/login"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),A.a.isAxiosError(e.t0)&&alert(null===(s=e.t0.response)||void 0===s?void 0:s.data);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}(),Z="http://109.194.37.212:93/api/auth/captcha?t=".concat(R);return Object(m.jsxs)("div",{className:"sign-form-container",children:[Object(m.jsx)(f,{type:"login-logo"}),Object(m.jsxs)(N,{children:["Sign Up to ",Object(m.jsx)("span",{className:"header-blue",children:"Chatty"}),Object(m.jsx)("span",{className:"header-grey",children:"!"})]}),Object(m.jsx)(_,{children:"Registration"}),Object(m.jsxs)("form",{onSubmit:M(X),children:[Object(m.jsxs)("div",{className:"form-field",children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{className:"form-field__label",children:"Create user name"}),Object(m.jsxs)("div",{className:"form-field__input",children:[Object(m.jsx)("input",Object(r.a)(Object(r.a)({},P("login",{required:!0,maxLength:50})),{},{className:D,placeholder:"Input user name"})),B.login?Object(m.jsx)(p,{}):null]})]}),Object(m.jsx)("span",{className:"form-field__error",children:B.login&&"Login is required"})]}),Object(m.jsxs)("div",{className:"form-field",children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{className:"form-field__label",children:"Create password"}),Object(m.jsxs)("div",{className:"form-field__input",children:[Object(m.jsx)("input",Object(r.a)(Object(r.a)({},P("password",{required:!0})),{},{className:F,placeholder:"Create password",type:"password"})),B.password?Object(m.jsx)(p,{}):null]})]}),Object(m.jsx)("span",{className:"form-field__error",children:B.password&&"Password is required"})]}),Object(m.jsxs)("div",{className:"form-field",children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{className:"form-field__label",children:"Password confirmation"}),Object(m.jsxs)("div",{className:"form-field__input",children:[Object(m.jsx)("input",Object(r.a)(Object(r.a)({},P("password_confirm",{required:!0})),{},{className:J,placeholder:"Password confirmation",type:"password"})),B.password_confirm?Object(m.jsx)(p,{}):null]})]}),Object(m.jsx)("span",{className:"form-field__error",children:B.password_confirm&&"Passwords do not match"})]}),Object(m.jsxs)("div",{className:"form-field",children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{className:"form-field__label",children:"Nickname"}),Object(m.jsxs)("div",{className:"form-field__input",children:[Object(m.jsx)("input",Object(r.a)(Object(r.a)({},P("name",{required:!0,maxLength:50})),{},{className:G,placeholder:"Nickname"})),B.name?Object(m.jsx)(p,{}):null]})]}),Object(m.jsx)("span",{className:"form-field__error",children:B.name&&"Name is required"})]}),Object(m.jsxs)("div",{className:"form-field",children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{className:"form-field__label",children:"Your gender"}),Object(m.jsxs)("div",{className:"select-container",children:[Object(m.jsxs)("div",{className:H,onClick:Q,"data-value":"Your gender",children:[""===x?Object(m.jsx)("div",{className:"placeholder","data-value":"Your gender",children:"Your gender"}):Object(m.jsx)("div",{className:"placeholder set","data-value":"Your gender",children:(Y=C,Y[0].toUpperCase()+Y.slice(1))}),Object(m.jsx)("img",{className:"dropdown-arrow",src:fe,alt:"dropdown arrow","data-value":"Your gender"})]}),Object(m.jsx)("div",{className:U,"data-value":"male",onClick:Q,children:"Male"}),Object(m.jsx)("div",{className:W,"data-value":"female",onClick:Q,children:"Female"})]})]}),Object(m.jsx)("span",{className:"form-field__error",children:"Your gender"===C?"Choose your gender":""})]}),Object(m.jsx)("div",{className:"form-field",children:Object(m.jsxs)("div",{className:"form-field__captcha",children:[Object(m.jsxs)("div",{className:"input-container",children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{className:"form-field__label",children:"Security code"}),Object(m.jsxs)("div",{className:"form-field__input",children:[Object(m.jsx)("input",Object(r.a)(Object(r.a)({},P("captcha",{required:!0})),{},{className:K,placeholder:"Security code"})),B.captcha?Object(m.jsx)(p,{}):null]})]}),Object(m.jsx)("span",{className:"form-field__error",children:B.captcha&&"Captcha is wrong"})]}),Object(m.jsx)("div",{className:"captcha-container",children:Object(m.jsx)("img",{src:Z,alt:"captcha"})}),Object(m.jsx)("img",{className:"refresh-icon",src:E,alt:"refresh captcha icon",onClick:function(){T(Date.now())}})]})}),Object(m.jsx)(v,{type:"submit",children:"Register"}),Object(m.jsx)(v,{type:"button",direction:"login",children:"Log in"})]})]})},ge=function(){return Object(m.jsx)(Y,{left:Object(m.jsx)(xe,{})})},ve=["children"],Ne=function(e){var t=e.children,c=localStorage.getItem("user"),a=c?{username:c}:null,n=Object(s.useState)(a),i=Object(o.a)(n,2),r=i[0],l=i[1],d={user:r,logIn:function(e){localStorage.setItem("user",e),l({username:e})},isAuth:function(){return!Object(ee.isEmpty)(r)}};return Object(m.jsx)(z.Provider,{value:d,children:t})},_e=function(e){var t=e.children,c=Object(l.a)(e,ve),s=R();return Object(m.jsx)(d.b,Object(r.a)(Object(r.a)({},c),{},{render:function(){return s.isAuth()?t:Object(m.jsx)(d.a,{to:a.SCREEN_LOGIN})}}))},we=function(){return Object(m.jsx)(Ne,{children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:a.SCREEN_LOGIN,exact:!0,children:Object(m.jsx)(L,{})}),Object(m.jsx)(d.b,{path:a.SCREEN_SIGN,exact:!0,children:Object(m.jsx)(ge,{})}),Object(m.jsx)(_e,{path:a.SCREEN_EMPTY_CHAT,exact:!0,children:Object(m.jsx)(Oe,{})}),Object(m.jsx)(_e,{path:a.SCREEN_CHAT,exact:!0,children:Object(m.jsx)(Oe,{})}),Object(m.jsx)(d.a,{to:a.SCREEN_EMPTY_CHAT})]})})};c(95);var ye=function(){return Object(m.jsx)(we,{})},Se=c(27);i.a.render(Object(m.jsx)(Se.a,{children:Object(m.jsx)(ye,{})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.a01d6e4d.chunk.js.map